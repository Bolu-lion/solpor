@page "/deletecompany/{id:int}"
@inject ICompanyService CompanyService
@inject IJSRuntime JSRuntime
@inject NavigationManager nav

<div>
<h3>are you sure you want to delete the company w the id @id ?</h3>
<button @onclick="goBack">No</button>
<button @onclick="OnDelete">Yes, I'm sure</button>
</div>


@code{
    [Parameter]
    public int id {get; set;}

    public void goBack(){
        nav.NavigateTo("companies");
    }

    protected async Task OnDelete(){
        await CompanyService.DeleteCompany(id);
        await JSRuntime.InvokeVoidAsync("alert", "Company Successfully Deleted");
        nav.NavigateTo("companies");
    }
}